import{d as k,u as V,y as x,f,c as d,b as s,t as o,V as C,n as h,z as n,v,B as g,m as w,a as _,e as E,w as B,r as D,o as c,h as M,D as p}from"./main.e15b396c.js";import{u as N,r as $,e as P}from"./index.esm.a56de957.js";const F={class:"flex justify-center items-center min-h-screen bg-[url('/assets/images/map.svg')] dark:bg-[url('/assets/images/map-dark.svg')] bg-cover bg-center"},T={class:"panel sm:w-[480px] m-6 max-w-lg w-full"},U={class:"font-bold text-2xl mb-3"},z={class:"mb-7"},I=["onSubmit"],L={for:"customFemail"},Y=["placeholder"],j={key:0,class:"text-danger mt-1"},q={for:"password"},A=["placeholder"],R={key:0,class:"text-danger mt-1"},G={type:"submit",class:"btn btn-primary w-full"},H={class:"text-center mt-5"},W=k({__name:"index",setup(J){V({title:"Login"});const b=M(),y=x(),i=f(!1),l=f({email:"",password:""}),a=N({form:{email:{required:$,email:P},password:{required:$}}},{form:l}),S=()=>{if(i.value=!0,a.value.form.$touch(),a.value.form.$invalid)return!1;try{y.login(l.value).then(e=>{p(e.message),b.push("/")}).catch(e=>{var r,m;p(((m=(r=e==null?void 0:e.response)==null?void 0:r.data)==null?void 0:m.message)||t("Your login credentials are incorrect"),"error")})}catch{p(t("Your login credentials are incorrect"),"error")}};return(e,r)=>{const m=D("router-link");return c(),d("div",F,[s("div",T,[s("h2",U,o(e.$t("Sign In")),1),s("p",z,o(e.$t("Enter your email and password to login")),1),s("form",{class:"space-y-5",onSubmit:C(S,["prevent"])},[s("div",{class:h({"has-error":n(a).form.email.$error,"has-success":i.value&&!n(a).form.email.$error})},[s("label",L,o(e.$t("Email")),1),v(s("input",{id:"customFemail",type:"text",placeholder:e.$t("Enter email"),class:"form-input","onUpdate:modelValue":r[0]||(r[0]=u=>l.value.email=u)},null,8,Y),[[g,l.value.email]]),i.value&&n(a).form.email.$error?(c(),d("p",j,o(e.$t("Please fill the email")),1)):w("",!0)],2),s("div",{class:h({"has-error":n(a).form.password.$error,"has-success":i.value&&!n(a).form.password.$error})},[s("label",q,o(e.$t("Password"))+" *",1),v(s("input",{id:"password",type:"password",placeholder:e.$t("Enter Password"),class:"form-input","onUpdate:modelValue":r[1]||(r[1]=u=>l.value.password=u)},null,8,A),[[g,l.value.password]]),i.value&&n(a).form.password.$error?(c(),d("p",R,o(e.$t("Please fill the password")),1)):w("",!0)],2),s("button",G,o(e.$t("Sign In")),1)],40,I),s("p",H,[_(o(e.$t("Don't have an account?"))+" ",1),E(m,{to:"/subscriptions",class:"text-primary font-bold hover:underline"},{default:B(()=>[_(o(e.$t("Sign Up")),1)]),_:1})])])])}}});export{W as default};
